console.log("Last modification time: 7/5/2023, 2:37:27 PM"),function(e){function n(n){for(var o,r,c=n[0],s=n[1],d=n[2],u=0,f=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(l&&l(n);f.length;)f.shift()();return a.push.apply(a,d||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],o=!0,c=1;c<t.length;c++){var s=t[c];0!==i[s]&&(o=!1)}o&&(a.splice(n--,1),e=r(r.s=t[0]))}return e}var o={},i={2:0},a=[];function r(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=o,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="./";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=n,c=c.slice();for(var d=0;d<c.length;d++)n(c[d]);var l=s;a.push([18,0]),t()}([,,function(e,n,t){"use strict";var o,i=t(0),a=t.n(i),r=(o=function(e,n){e instanceof Array?e.map((function(e){return n(e)})):n(e)},{hide:function(e){o(e,(function(e){a()(e).hide()}))},show:function(e){o(e,(function(e){a()(e).show()}))},toggle:function(e){o(e,(function(e){a()(e).toggle()}))},enable:function(e){o(e,(function(e){a()(e).removeClass("disabled")}))},disable:function(e){o(e,(function(e){a()(e).addClass("disabled")}))}});n.a=r},function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return a}));var o={"120p,120p_1":[160,120,15,65],"360p_4":[640,360,30,600],"480p_4":[640,480,30,750],"720p_3":[1280,720,30,1710]},i=1,a=window.location.origin},,function(e,n,t){"use strict";t.d(n,"d",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r}));var o=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},i=function(){return window.innerWidth<=800&&window.innerHeight<=830},a=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},r=function(){return"undefined"!=typeof InstallTrigger}},function(e,n,t){"use strict";t(21);function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=a(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){s=!0,r=e},f:function(){try{c||null==t.return||t.return()}finally{if(s)throw r}}}}function a(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}n.a={init:function(e,n,t){this.MAX_RATIO=t,this.MIN_RATIO=n,this.canvas=document.querySelector("#".concat(e))},_checkRatio:function(e,n){var t=n/e;return!(t>this.MAX_RATIO||t<this.MIN_RATIO)},customRender:function(e,n,t){this.canvas.classList.remove("container__flex"),this.canvas.classList.add("container__grid");var o=e.length;t=t||e[e.length-1]&&e[e.length-1].getId(),o>4&&1===n||o>8?(n=0,console.log("Automatically switch to tile mode..."),this.rendererFactory(e,n,t)):this.rendererFactory(e,n,t)},rendererFactory:function(e,n,t){if(0===n)this.tileRenderer(e);else if(1===n)this.pipRenderer(e,t);else{if(2!==n)throw Error("Wrong mode for renderer");this.sharingRenderer(e,t)}},updateVideoItem:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.getId(),i=document.querySelector("#video-item-"+o);if(!i){i=document.createElement("section");var a=document.createElement("div");i.setAttribute("id","video-item-"+o),i.setAttribute("class","video-item"),a.setAttribute("class","video-item-box"),i.appendChild(a),this.canvas.appendChild(i),e.play("video-item-"+o)}t?i.classList.add("window__fit"):i.classList.remove("window__fit"),i.setAttribute("style",n)},enterFullScreen:function(){this.canvas.classList.add("fullscreen")},exitFullScreen:function(){this.canvas.classList.remove("fullscreen")},tileRenderer:function(e){var n=function(e){for(var n,t,o,i,a,r=e.width,c=e.height,s=e.minRatio,d=e.maxRatio,l=e.count,u=1;u<=l;u++){var f=u,h=Math.ceil(l/u);t=Math.floor((r-5)/h);var g=(o=Math.floor((c-5)/f))/t;g>d?o=(g=d)*t:g<s&&(t=o/(g=s));var p=t*o*l;(void 0===n||p>n)&&(n=p,a=o,i=t)}return{height:a,width:i}}({width:this.canvas.clientWidth,height:this.canvas.clientHeight,minRatio:this.MIN_RATIO,maxRatio:this.MAX_RATIO,count:e.length}),t=n.width,o=n.height;this.canvas.classList.remove("container__grid"),this.canvas.classList.add("container__flex");var a,r=i(e);try{for(r.s();!(a=r.n()).done;){var c=a.value;this.updateVideoItem(c,"width: ".concat(t,"px; height: ").concat(o,"px;"))}}catch(e){r.e(e)}finally{r.f()}},pipRenderer:function(e,n){var t=e.length;if(t>4)throw Error("PIP mode only suitable for less than 4 stream");if(!this._checkRatio(4*this.canvas.clientWidth/24,3*this.canvas.clientHeight/12)||!this._checkRatio(12*this.canvas.clientWidth/24,12*this.canvas.clientHeight/12))return this.tileRenderer(e);for(var o=0,i=0;o<t;o++){var a=e[o];a.getId()===n?this.updateVideoItem(a,"grid-area: span 12/span 24/13/25"):(this.updateVideoItem(a,"grid-area: span 3/span 4/".concat(4+3*i,"/25;\n                    z-index:1;width:calc(100% - 20px);height:calc(100% - 20px)")),i++)}},sharingRenderer:function(e,n){var t=e.length;if(t>8)throw Error("Screen Sharing Mode only suitable for less than 8 stream");if(!this._checkRatio(4*this.canvas.clientWidth/24,4*this.canvas.clientHeight/12)&&1!==e.length){var a=e.findIndex((function(e){return e.getId()===n}));if(-1===a)throw Error("Cannot find stream by given mainId!");for(var r=0;r<t;r++)r!==a&&this.updateVideoItem(e[r],"display: none");return this.sharingRenderer([e[a]],n)}var c=o(e);if(8===t){var s=c.findIndex((function(e){return e.hasAudio()&&!e.hasVideo()}));-1===s&&(s=7);var d=c[s];this.updateVideoItem(d,"display: none"),c.splice(s,1)}var l,u=i(c);try{for(u.s();!(l=u.n()).done;){var f=l.value;f.getId()===n?1===t?this.updateVideoItem(f,"grid-area: span 12/span 24/13/25;",!0):t<5?this.updateVideoItem(f,"grid-area: span 12/span 20/13/25;",!0):this.updateVideoItem(f,"grid-area: span 12/span 16/13/21;",!0):this.updateVideoItem(f,"grid-area: span 4/span 4")}}catch(e){u.e(e)}finally{u.f()}}}},function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return o}));var o=function(e,n,t){console.log("%c ".concat(e,": ").concat(t),"color: ".concat(n))},i={init:function(e,n){return function(t){return o(e,n,t)}}}},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";Object.entries||(Object.entries=function(e){for(var n=Object.keys(e),t=n.length,o=new Array(t);t--;)o[t]=[n[t],e[n[t]]];return o})},,,,function(e,n,t){"use strict";var o=t(0),i=t.n(o),a=function(){var e=i()(".notification-container");e.length||(i()("body").append('<div class="notification-container" \n                    style="z-index: 12;position: absolute;\n                    width: 38.2%;max-width: 450px; \n                    min-width: 300px;left: 0;\n                    word-break:break-all;\n                    bottom: 0;"></div>'),e=i()(".notification-container"));var n=function(n,t,o){var a=(new Date).getTime(),r='<div id="notify-'.concat(a,'" class="notification is-').concat(n,'">\n                                <button class="delete"></button>\n                                ').concat(t,"\n                            </div>");e.append(r),i()("#notify-"+a+" .delete").on("click",(function(){i()("#notify-"+a).remove()})),setTimeout((function(){i()("#notify-"+a).remove()}),o)};return{primary:function(e,t){n("primary",e,t)},link:function(e,t){n("link",e,t)},info:function(e,t){n("info",e,t)},success:function(e,t){n("success",e,t)},warning:function(e,t){n("warning",e,t)},danger:function(e,t){n("danger",e,t)}}}();n.a=a},,,,function(e,n,t){"use strict";t.r(n),function(e){var n,o,i=t(4),a=t.n(i),r=(t(11),t(0)),c=t.n(r),s=t(15),d=t.n(s),l=t(1),u=t(13),f=(t(8),t(9),t(20),t(2)),h=t(5),g=t(14),p=t(6),m=t(3),v=t(7),b=(t(10),{}),y={},w={},S=[],I=null,M=null,T=!1,k=v.b.init("global","blue"),R=v.b.init("share","yellow"),O=v.b.init("local","green"),B=function(){var e={videoProfile:l.get("videoProfile").split(",")[0]||"480p_4",videoProfileLow:l.get("videoProfileLow"),cameraId:l.get("cameraId")||"",microphoneId:l.get("microphoneId"),channel:l.get("channel")||"test",transcode:l.get("transcode")||"interop",attendeeMode:l.get("attendeeMode")||"video",baseMode:l.get("baseMode")||"avc",roomInfo:l.get("roomInfo")||null,displayMode:1,uid:void 0,resolution:void 0},n=m.b[l.get("videoProfile")];return e.resolution=n[0]/n[1]||4/3,e.key=JSON.parse(e.roomInfo).agoraAppId,e.token=JSON.parse(e.roomInfo).agoraToken,e},A=function(e){T=!0,console.log("ec start"),c()(".recordingBtn").toggleClass("off"),c()("#ec-recording-indicator").toggleClass("is-shown"),f.a.enable(".recordingBtn")},j=function(e){T=!1,console.log("ec stop"),c()(".recordingBtn").toggleClass("off"),c()("#ec-recording-indicator").toggleClass("is-shown"),f.a.enable(".recordingBtn"),setTimeout((function(){e&&e.id&&(c()(".downloadBtn")[0].classList.contains("is-shown")||c()(".downloadBtn")[0].classList.add("is-shown"),c()(".downloadBtn").off(),c()(".downloadBtn").on("click",(function(){var n=JSON.parse(b.roomInfo);c.a.post({traditional:!0,url:"".concat(m.a,"/getVonageRecord"),contentType:"application/json",data:JSON.stringify({vonageToken:n.vonageToken,archiveId:e.id,roomName:n.name}),dataType:"json",success:function(e){var n=e.url;if("string"==typeof e.url){var t,o=document.createElement("a");o.href=n,o.setAttribute("download","download"),o.target="_blank",document.body.appendChild(o),o.click(),null===(t=o.parentNode)||void 0===t||t.removeChild(o),window.URL.revokeObjectURL(n)}},error:function(e,n,t){t&&alert("Download Record Server Error: ".concat(t))}})})))}),5e3)},C=function(e,n){return new Promise((function(t,o){e.init(n.key,(function(){k("AgoraRTC client initialized");var i=m.b[n.videoProfileLow];e.join(n.token,n.channel,n.uid,(function(n){Object(v.a)(n,"brown","User ".concat(n," join channel successfully")),Object(v.a)(n,"brown",(new Date).toLocaleTimeString()),e.setLowStreamParameter({width:i[0],height:i[1],framerate:i[2],bitrate:i[3]}),t(n)}),(function(e){o(e)}))}))}))},_=function(e,n,t){var o={streamID:e,audio:!0,video:!0,screen:!1};switch(n.attendeeMode){case"audio-only":o.video=!1;break;case"audience":o.video=!1,o.audio=!1;break;default:case"video":}var i=a.a.createStream(Object(u.merge)(o,t));return i.setVideoProfile(n.videoProfile),i},L=function(){try{I&&I.unpublish(M),M&&M.close(),I&&I.leave((function(){R("Share client succeed to leave.")}),(function(){R("Share client failed to leave.")}))}finally{I=null,M=null}};window.installSuccess=function(){k.apply(void 0,arguments)},window.installError=function(){k.apply(void 0,arguments),g.a.danger("Failed to install the extension, please check the network and console.",3e3)};var x=function(e){S.map((function(n,t){return n.getId()===e?(S[t].close(),c()("#video-item-"+e).remove(),S.splice(t,1),1):0})),S.length<=4&&2!==b.displayMode&&f.a.enable(".displayModeBtn"),p.a.customRender(S,b.displayMode,n)},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.getId(),i=S.some((function(e){return e.getId()===o}));i||(t?S.push(e):S.unshift(e),S.length>4&&(b.displayMode=1===b.displayMode?0:b.displayMode,f.a.disable([".displayModeBtn",".disableRemoteBtn"])),p.a.customRender(S,b.displayMode,n))},V=function(e){return S.filter((function(n){return n.getId()===e}))[0]},E=function(e,n){if(e!==n){for(var t,o,i=0,a=S;i<a.length;i++){var r=a[i],c=r.getId();c===e?t=r:c===n&&(o=r)}t&&y.setRemoteVideoStreamType(t,1),o&&y.setRemoteVideoStreamType(o,0)}},N=function(){c()(".displayModeBtn").on("click",(function(e){e.currentTarget.classList.contains("disabled")||S.length<=1||(1===b.displayMode?(b.displayMode=0,f.a.disable(".disableRemoteBtn")):0===b.displayMode&&(b.displayMode=1,f.a.enable(".disableRemoteBtn")),p.a.customRender(S,b.displayMode,n))})),c()(".exitBtn").on("click",(function(){try{I&&L(),y&&y.unpublish(w),w&&w.close(),y&&y.leave((function(){O("Client succeed to leave.")}),(function(){O("Client failed to leave.")}))}finally{window.location.href="index.html"}})),c()(".videoControlBtn").on("click",(function(){c()(".videoControlBtn").toggleClass("off"),w.isVideoOn()?w.disableVideo():w.enableVideo()})),c()(".audioControlBtn").on("click",(function(){c()(".audioControlBtn").toggleClass("off"),w.isAudioOn()?w.disableAudio():w.enableAudio()})),c()(".recordingBtn").on("click",(function(e){var n;e.currentTarget.classList.contains("disabled")||(T?function(){var e=JSON.parse(b.roomInfo);f.a.disable(".recordingBtn"),c()("#notification-message")[0].innerHTML="EC Recording Stopped, You may download the record from the Menu in a few seconds.",c()("#notification")[0].classList.contains("is-shown")||c()("#notification")[0].classList.add("is-shown"),setTimeout((function(){c()("#notification").removeClass("is-shown")}),5e3);var n=l.get("archiveId")||"",t=l.get("ecId")||"";c.a.post({traditional:!0,url:"".concat(m.a,"/ecStopRecording"),contentType:"application/json",data:JSON.stringify({ecId:t,archiveId:n,vonageToken:e.vonageToken}),dataType:"json",success:function(e){},error:function(e,n,t){t&&(alert("Server Error: ".concat(t)),f.a.enable(".recordingBtn"))}})}():(n=JSON.parse(b.roomInfo),f.a.disable(".recordingBtn"),c()("#notification-message")[0].innerHTML="EC Recording Request Submitted. You should see a EC recording indicator in a few seconds.",c()("#notification")[0].classList.contains("is-shown")||c()("#notification").addClass("is-shown"),setTimeout((function(){c()("#notification").removeClass("is-shown")}),5e3),c.a.post({traditional:!0,url:"".concat(m.a,"/ecStartRecording"),contentType:"application/json",data:JSON.stringify({sessionId:n.vonageSessionId,url:"".concat(window.location.href,"?room=").concat(n.name),vonageToken:n.vonageToken}),dataType:"json",success:function(e){Object.entries(e).map((function(e){return l.set(e[0],e[1])}))},error:function(e,n,t){t&&(f.a.enable(".recordingBtn"),alert("Server Error: ".concat(t)))}})))})),c()(".shareScreenBtn").on("click",(function(e){e.currentTarget.classList.contains("disabled")||(I?L():function(){f.a.disable(".shareScreenBtn"),I=a.a.createClient({mode:b.transcode});var e=Object(u.merge)(b,{uid:m.c});C(I,e).then((function(n){(M=_(n,e,{screen:!0,video:!1,audio:!1,extensionId:"minllpmhdgpndnkomcoccfekfegnlikg",mediaSource:"application"})).init((function(){f.a.enable(".shareScreenBtn"),M.on("stopScreenSharing",(function(){L(),R("Stop Screen Sharing at"+new Date)})),I.publish(M,(function(e){R("Publish share stream error: "+e),R("getUserMedia failed",e)}))}),(function(e){if(f.a.enable(".shareScreenBtn"),R("getUserMedia failed",e),L(),Object(h.a)()){g.a.danger('\n            Please install chrome extension from \n            <a href="https://chrome.google.com/webstore/detail/minllpmhdgpndnkomcoccfekfegnlikg">Google Webstore</a> \n            before using sharing screen.   \n          ',5e3)}}))}))}())})),c()("#close-notification-button").on("click",(function(){c()("#notification").removeClass("is-shown")})),c()(".disableRemoteBtn").on("click",(function(e){if(!(e.currentTarget.classList.contains("disabled")||S.length<=1)){c()(".disableRemoteBtn").toggleClass("off");var n=w.getId();Array.from(document.querySelectorAll(".video-item:not(#video-item-".concat(n,")"))).map((function(e){return"none"===e.style.display?(e.style.display="block",1):(e.style.display="none",0)}))}})),c()(window).resize((function(e){Object(h.c)()?p.a.enterFullScreen():p.a.exitFullScreen(),p.a.customRender(S,b.displayMode,n)})),c()(".ag-container").dblclick((function(e){for(var t=e.target;!t.classList.contains("video-item");)if((t=t.parentNode).classList.contains("ag-main"))return;var i=parseInt(t.id.split("-")[2],10);if(i!==n){var a=2===b.displayMode?m.c:i;E(n,a),o=V(n=a)}p.a.customRender(S,b.displayMode,n)})),c()(document).mousemove((function(n){e._toolbarToggle&&clearTimeout(e._toolbarToggle),c()(".ag-btn-group").addClass("active"),e._toolbarToggle=setTimeout((function(){c()(".ag-btn-group").removeClass("active")}),2500)}))};new Promise((function(e,n){var t=window.location.search,o=new URLSearchParams(t),i=o.get("room"),a=o.get("role");i&&a?c.a.post({traditional:!0,url:"".concat(m.a,"/initialize"),contentType:"application/json",data:JSON.stringify({roomName:i,role:a}),dataType:"json",success:function(n){var t={videoProfile:"480p_4",videoProfileLow:"",cameraId:"",microphoneId:"",channel:i,transcode:"interop",attendeeMode:"video",baseMode:"avc",roomInfo:JSON.stringify(n),displayMode:1,uid:void 0,resolution:4/3};t.key=n.agoraAppId,t.token=n.agoraToken,e(t)},error:function(n,t,o){o&&alert("Server Error: ".concat(o)),e(B())}}):e(B())})).then((function(e){(function(e){switch(document.querySelector(".ag-header-lead span").innerHTML="AgoraWeb v".concat("^3.6.9".slice(1)),p.a.init("ag-canvas",9/16,1.6),Object(h.c)()&&p.a.enterFullScreen(),Object(h.b)()||Object(h.a)()||f.a.disable(".shareScreenBtn"),c()("#room-name").html(e.channel),e.attendeeMode){case"audio-only":f.a.hide([".videoControlBtn",".shareScreenBtn"]);break;case"audience":f.a.hide([".videoControlBtn",".audioControlBtn",".shareScreenBtn"]);break;default:case"video":}})(b=e),function(e){var n=JSON.parse(e.roomInfo),t=d.a.initSession(n.vonageApikey,n.vonageSessionId);t.connect(n.vonageToken,(function(e){e?console.log("Error connecting: ",e.name,e.message):(t.on("archiveStarted",A),t.on("archiveStopped",j),console.log("Connected to vonage session."))}))}(b),y=a.a.createClient({mode:b.transcode}),N(),y.on("stream-added",(function(e){var t=e.stream,i=t.getId();O("New stream added: "+i),O((new Date).toLocaleTimeString()),O("Subscribe ",t),i===m.c&&(b.displayMode=2,n=i,o=t,I||f.a.disable(".shareScreenBtn"),f.a.disable([".displayModeBtn",".disableRemoteBtn"])),i!==n&&(2===b.displayMode?y.setRemoteVideoStreamType(t,1):(o&&y.setRemoteVideoStreamType(o,1),o=t,n=i)),y.subscribe(t,(function(e){O("Subscribe stream failed",e)}))})),y.on("peer-leave",(function(e){var t=e.uid;if(O("Peer has left: "+t),O((new Date).toLocaleTimeString()),t===m.c&&(b.displayMode=0,"video"===b.attendeeMode&&f.a.enable(".shareScreenBtn"),f.a.enable([".displayModeBtn",".disableRemoteBtn"]),L()),t===n){var i=2===b.displayMode?m.c:w.getId();E(n,i),o=V(n=i)}x(e.uid)})),y.on("stream-subscribed",(function(e){var n=e.stream;O("Got stream-subscribed event"),O((new Date).toLocaleTimeString()),O("Subscribe remote stream successfully: "+n.getId()),P(n)})),y.on("stream-removed",(function(e){var t=e.stream,i=t.getId();if(O("Stream removed: "+i),O((new Date).toLocaleTimeString()),i===m.c&&(b.displayMode=0,"video"===b.attendeeMode&&f.a.enable(".shareScreenBtn"),f.a.enable([".displayModeBtn",".disableRemoteBtn"]),L()),i===n){var a=2===b.displayMode?m.c:w.getId();E(n,a),o=V(n=a)}x(t.getId())})),C(y,b).then((function(e){var t=window.location.search;if(!new URLSearchParams(t).get("role")){var i=Object(h.d)()?{}:{cameraId:b.cameraId,microphoneId:b.microphoneId};w=_(e,b,i),"audience"!==b.attendeeMode&&(n=e,o=w),y.enableDualStream((function(){O("Enable dual stream success!")}),(function(e){O(e)})),w.init((function(){"audience"!==b.attendeeMode&&(P(w,!0),y.publish(w,(function(e){O("Publish local stream error: "+e)})))}),(function(e){O("getUserMedia failed",e)}))}}))}))}.call(this,t(12))},,function(e,n,t){},function(e,n,t){}]);